

====== 与Zookeeper区别


. zookeeper实现了CP +
eureka实现了AP
. 集群中某个节点失去链接
.. zookeeper集群需要一个leader节点来同一集群上的数据 +
如果leader节点挂了, 会暂停服务并推举新的leader +
如果参选人数不足, 集群将停止服务
.. eureka集群中每个服务之间都可以进行直接连接 +
如果eureka两个服务端之间断开了连接, 依然可以通过他们之间的其他服务间接连接和同步
. 服务端与客户端网络分区
* zookeeper对失去连接的服务会直接踢出服务注册表
* eureka
** 普通情况下, 由于eureka之间使用的是心跳通信的, eureka服务端之间并不能及时同步 +
由Ribbon提供重试机制
** 一个eureka服务端在一分钟内丢失了所有连接它的客户端实例的`85%`心跳时,
会保留所有失去心跳的服务, 并进入自我保护状态 +
心跳频率默认是`30s`, 一般不会去修改, 因为修改会影响自我保护正常触发
* 负载均衡
** zk本身没有负载均衡, 只有简单的轮询
** eureka由于是客户端发现服务, 由客户端提供负载均衡算法,
eureka中由Ribbon提供负载均衡 +
Ribbon默认负载均衡策略也是顺序轮询