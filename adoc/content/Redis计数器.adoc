

======= Redis计数器


redis对数据的增删改查操作都是单线程的,
所以可以使用`jedis.incr()`方法实现并发情况下的自增计数操作


.业务应用
. 在下班时候工作日志提交高峰期, 为避免用户因为卡顿重复提交工作表数据,
通过计数器限制每秒提交一次,
通过 公司id,用户id,工作表模板id 作为key, 过期时间为1s +
提交页面和编辑不在一个页面, 不存在用户修改的数据没有提交的情况
. A,B两个模块都要异步插入一条数据, A数据需要关联B
.. 最开始方案由前端提前生成B的id, A一定能关联上B. +
但是在查询A时, 如果B没有执行完, 会显示不完整的错误的数据.
.. 改进后, 使用redis计数. 每个模块完成时就在redis上加一,
两个都完成时, 最后一个处理完的执行关联业务操作